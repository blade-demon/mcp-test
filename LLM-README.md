# LLM å¤§æ¨¡å‹è°ƒç”¨åŠŸèƒ½

æœ¬ MCP æœåŠ¡å™¨ç°åœ¨æ”¯æŒè°ƒç”¨å¤šç§å¤§è¯­è¨€æ¨¡å‹ï¼ŒåŒ…æ‹¬ OpenAI GPTã€Anthropic Claude å’Œæœ¬åœ°æ¨¡å‹ã€‚

## ğŸš€ åŠŸèƒ½ç‰¹æ€§

- **å¤šç§æ¨¡å‹æ”¯æŒ**ï¼šOpenAI GPTã€Anthropic Claudeã€Google Geminiã€é˜¿é‡Œäº‘é€šä¹‰åƒé—®ã€æœ¬åœ°æ¨¡å‹
- **å¤šç§ä»»åŠ¡ç±»å‹**ï¼šå¯¹è¯ã€æ–‡æœ¬ç”Ÿæˆã€ç¿»è¯‘ã€æ‘˜è¦ã€ä»£ç ç”Ÿæˆã€å›¾åƒç†è§£
- **æµå¼å“åº”**ï¼šæ”¯æŒå®æ—¶æµå¼è¾“å‡ºï¼Œæä¾›æ›´å¥½çš„ç”¨æˆ·ä½“éªŒ
- **å¯¹è¯å†å²ç®¡ç†**ï¼šæ”¯æŒå¤šè½®å¯¹è¯ï¼Œè‡ªåŠ¨ç®¡ç†å¯¹è¯ä¸Šä¸‹æ–‡
- **æ€§èƒ½ç›‘æ§**ï¼šå®æ—¶ç›‘æ§ API è°ƒç”¨æ€§èƒ½ã€æˆæœ¬å’ŒæˆåŠŸç‡
- **æç¤ºè¯æ¨¡æ¿**ï¼šå†…ç½®å¤šç§ä¸“ä¸šæ¨¡æ¿ï¼Œæ”¯æŒè‡ªå®šä¹‰æ¨¡æ¿
- **æ™ºèƒ½é‡è¯•**ï¼šè‡ªåŠ¨é”™è¯¯åˆ†ç±»å’Œé‡è¯•æœºåˆ¶ï¼Œæé«˜æˆåŠŸç‡
- **çµæ´»é…ç½®**ï¼šå¯è°ƒèŠ‚æ¸©åº¦ã€æœ€å¤§ token æ•°ç­‰å‚æ•°
- **å®Œå–„é”™è¯¯å¤„ç†**ï¼šè¯¦ç»†çš„é”™è¯¯åˆ†ç±»å’Œè§£å†³å»ºè®®

## ğŸ“‹ æ”¯æŒçš„æ¨¡å‹

### OpenAI æ¨¡å‹

- GPT-3.5 Turbo
- GPT-4
- GPT-4o
- GPT-4o Mini

### Anthropic æ¨¡å‹

- Claude 3.5 Sonnet
- Claude 3 Haiku
- Claude 3 Opus

### Google Gemini æ¨¡å‹

- Gemini Pro
- Gemini Pro Vision
- Gemini 1.5 Pro
- Gemini 1.5 Flash

### é˜¿é‡Œäº‘é€šä¹‰åƒé—®æ¨¡å‹

- Qwen Turbo
- Qwen Plus
- Qwen Max
- Qwen VL Plus

### æœ¬åœ°æ¨¡å‹

- Llama 2
- Mistral
- Qwen
- CodeLlama
- Phi-3

## ğŸ”§ é…ç½® API å¯†é’¥

### æ–¹æ³• 1ï¼šç¯å¢ƒå˜é‡ï¼ˆæ¨èï¼‰

åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `.env` æ–‡ä»¶ï¼š

```bash
# OpenAI API å¯†é’¥
OPENAI_API_KEY=your_openai_api_key_here

# Anthropic API å¯†é’¥
ANTHROPIC_API_KEY=your_anthropic_api_key_here

# Google API å¯†é’¥
GOOGLE_API_KEY=your_google_api_key_here

# é˜¿é‡Œäº‘ API å¯†é’¥
ALIBABA_API_KEY=your_alibaba_api_key_here

# æœåŠ¡å™¨ç«¯å£
PORT=3000
```

### æ–¹æ³• 2ï¼šç³»ç»Ÿç¯å¢ƒå˜é‡

```bash
export OPENAI_API_KEY="your_openai_api_key_here"
export ANTHROPIC_API_KEY="your_anthropic_api_key_here"
```

## ğŸ”‘ è·å– API å¯†é’¥

### OpenAI

1. è®¿é—® [OpenAI Platform](https://platform.openai.com/api-keys)
2. ç™»å½•æ‚¨çš„è´¦æˆ·
3. åˆ›å»ºæ–°çš„ API å¯†é’¥
4. å¤åˆ¶å¯†é’¥åˆ°é…ç½®æ–‡ä»¶

### Anthropic

1. è®¿é—® [Anthropic Console](https://console.anthropic.com/)
2. ç™»å½•æ‚¨çš„è´¦æˆ·
3. åˆ›å»ºæ–°çš„ API å¯†é’¥
4. å¤åˆ¶å¯†é’¥åˆ°é…ç½®æ–‡ä»¶

## ğŸ› ï¸ ä½¿ç”¨æ–¹æ³•

### 1. å¯åŠ¨æœåŠ¡å™¨

```bash
npm install
npm run start:sse
```

### 2. ä½¿ç”¨ Web ç•Œé¢

æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼š`http://localhost:3000`

åœ¨ LLM å·¥å…·åŒºåŸŸï¼š

1. é€‰æ‹©è¯·æ±‚ç±»å‹ï¼ˆå¯¹è¯ã€æ–‡æœ¬ç”Ÿæˆç­‰ï¼‰
2. é€‰æ‹©æ¨¡å‹æä¾›å•†
3. é€‰æ‹©å…·ä½“æ¨¡å‹
4. è¾“å…¥æç¤ºè¯
5. è°ƒæ•´å‚æ•°ï¼ˆæ¸©åº¦ã€æœ€å¤§ token æ•°ç­‰ï¼‰
6. ç‚¹å‡»"å‘é€è¯·æ±‚"

### 3. ä½¿ç”¨å‘½ä»¤è¡Œå®¢æˆ·ç«¯

```bash
npm run client
```

### 4. ç›´æ¥è°ƒç”¨ API

```javascript
// å¯¹è¯ç¤ºä¾‹
const message = {
  jsonrpc: "2.0",
  id: 1,
  method: "tools/call",
  params: {
    name: "llm",
    arguments: {
      type: "chat",
      prompt: "ä½ å¥½ï¼Œè¯·ä»‹ç»ä¸€ä¸‹ä½ è‡ªå·±",
      provider: "openai",
      model: "gpt-3.5-turbo",
    },
  },
};

// ä»£ç ç”Ÿæˆç¤ºä¾‹
const codeMessage = {
  jsonrpc: "2.0",
  id: 2,
  method: "tools/call",
  params: {
    name: "llm",
    arguments: {
      type: "code",
      prompt: "å®ç°ä¸€ä¸ªå¿«é€Ÿæ’åºç®—æ³•",
      language: "javascript",
      provider: "openai",
      model: "gpt-4",
    },
  },
};
```

## ğŸ“ å‚æ•°è¯´æ˜

| å‚æ•°                 | ç±»å‹    | å¿…å¡« | è¯´æ˜                                                       |
| -------------------- | ------- | ---- | ---------------------------------------------------------- |
| `type`               | string  | âœ…   | è¯·æ±‚ç±»å‹ï¼šchat, generate, translate, summary, code, vision |
| `prompt`             | string  | âœ…   | ç”¨æˆ·è¾“å…¥çš„æç¤ºè¯                                           |
| `provider`           | string  | âŒ   | æ¨¡å‹æä¾›å•†ï¼šopenai, anthropic, google, alibaba, local      |
| `model`              | string  | âŒ   | å…·ä½“æ¨¡å‹åç§°                                               |
| `language`           | string  | âŒ   | ç¼–ç¨‹è¯­è¨€ï¼ˆä»£ç ç”Ÿæˆæ—¶ä½¿ç”¨ï¼‰                                 |
| `temperature`        | number  | âŒ   | ç”Ÿæˆæ¸©åº¦ (0-2)ï¼Œé»˜è®¤ 0.7                                   |
| `max_tokens`         | number  | âŒ   | æœ€å¤§ç”Ÿæˆ token æ•°ï¼Œé»˜è®¤ 2000                               |
| `system_prompt`      | string  | âŒ   | è‡ªå®šä¹‰ç³»ç»Ÿæç¤ºè¯                                           |
| `stream`             | boolean | âŒ   | æ˜¯å¦å¯ç”¨æµå¼å“åº”                                           |
| `images`             | array   | âŒ   | å›¾ç‰‡ URL åˆ—è¡¨ï¼ˆç”¨äºè§†è§‰ç†è§£ï¼‰                              |
| `conversation_id`    | string  | âŒ   | å¯¹è¯ IDï¼ˆç”¨äºå¤šè½®å¯¹è¯ï¼‰                                    |
| `template_id`        | string  | âŒ   | æç¤ºè¯æ¨¡æ¿ ID                                              |
| `template_variables` | object  | âŒ   | æ¨¡æ¿å˜é‡                                                   |

## ğŸ”„ è¯·æ±‚ç±»å‹è¯¦è§£

### chatï¼ˆå¯¹è¯ï¼‰

ç”¨äºä¸€èˆ¬å¯¹è¯å’Œé—®ç­”ã€‚

```javascript
{
  type: "chat",
  prompt: "ä»€ä¹ˆæ˜¯äººå·¥æ™ºèƒ½ï¼Ÿ"
}
```

### generateï¼ˆæ–‡æœ¬ç”Ÿæˆï¼‰

ç”¨äºåˆ›æ„å†™ä½œã€æ–‡ç« ç”Ÿæˆç­‰ã€‚

```javascript
{
  type: "generate",
  prompt: "å†™ä¸€ç¯‡å…³äºæ˜¥å¤©çš„æ•£æ–‡"
}
```

### translateï¼ˆç¿»è¯‘ï¼‰

ç”¨äºæ–‡æœ¬ç¿»è¯‘ã€‚

```javascript
{
  type: "translate",
  prompt: "Hello, how are you?"
}
```

### summaryï¼ˆæ‘˜è¦ï¼‰

ç”¨äºæ–‡æœ¬æ‘˜è¦ã€‚

```javascript
{
  type: "summary",
  prompt: "è¿™æ˜¯ä¸€ç¯‡å¾ˆé•¿çš„æ–‡ç« å†…å®¹..."
}
```

### codeï¼ˆä»£ç ç”Ÿæˆï¼‰

ç”¨äºä»£ç ç”Ÿæˆå’Œç¼–ç¨‹è¾…åŠ©ã€‚

```javascript
{
  type: "code",
  prompt: "å®ç°ä¸€ä¸ªäºŒåˆ†æŸ¥æ‰¾ç®—æ³•",
  language: "python"
}
```

### visionï¼ˆå›¾åƒç†è§£ï¼‰

ç”¨äºå›¾åƒåˆ†æå’Œç†è§£ã€‚

```javascript
{
  type: "vision",
  prompt: "è¯·æè¿°è¿™å¼ å›¾ç‰‡çš„å†…å®¹",
  images: ["https://example.com/image.jpg"]
}
```

### templateï¼ˆæ¨¡æ¿ä½¿ç”¨ï¼‰

ä½¿ç”¨é¢„å®šä¹‰çš„æç¤ºè¯æ¨¡æ¿ã€‚

```javascript
{
  type: "template",
  template_id: "code-review",
  template_variables: {
    code: "function add(a, b) { return a + b; }"
  }
}
```

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **API å¯†é’¥å®‰å…¨**ï¼šè¯·å¦¥å–„ä¿ç®¡æ‚¨çš„ API å¯†é’¥ï¼Œä¸è¦æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ
2. **è´¹ç”¨æ§åˆ¶**ï¼šä½¿ç”¨å•†ä¸š API ä¼šäº§ç”Ÿè´¹ç”¨ï¼Œè¯·æ³¨æ„æ§åˆ¶ä½¿ç”¨é‡
3. **æœ¬åœ°æ¨¡å‹**ï¼šæœ¬åœ°æ¨¡å‹ç›®å‰æ˜¯æ¨¡æ‹Ÿå®ç°ï¼Œéœ€è¦æ ¹æ®å®é™…æƒ…å†µé…ç½®
4. **ç½‘ç»œè¿æ¥**ï¼šç¡®ä¿æœåŠ¡å™¨èƒ½å¤Ÿè®¿é—®å¤–éƒ¨ API æœåŠ¡

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é”™è¯¯

1. **API å¯†é’¥é”™è¯¯**

   ```
   Error: OPENAI_API_KEY ç¯å¢ƒå˜é‡æœªè®¾ç½®
   ```

   è§£å†³ï¼šæ£€æŸ¥ç¯å¢ƒå˜é‡é…ç½®

2. **ç½‘ç»œè¿æ¥é”™è¯¯**

   ```
   Error: OpenAI API é”™è¯¯: Network error
   ```

   è§£å†³ï¼šæ£€æŸ¥ç½‘ç»œè¿æ¥å’Œé˜²ç«å¢™è®¾ç½®

3. **æ¨¡å‹ä¸æ”¯æŒ**

   ```
   Error: ä¸æ”¯æŒçš„æ¨¡å‹: gpt-5
   ```

   è§£å†³ï¼šä½¿ç”¨æ”¯æŒçš„æ¨¡å‹åç§°

### è°ƒè¯•æ¨¡å¼

è®¾ç½®ç¯å¢ƒå˜é‡å¯ç”¨è¯¦ç»†æ—¥å¿—ï¼š

```bash
DEBUG=mcp:* npm run start:sse
```

## ğŸ“š æ›´å¤šèµ„æº

- [OpenAI API æ–‡æ¡£](https://platform.openai.com/docs)
- [Anthropic API æ–‡æ¡£](https://docs.anthropic.com/)
- [MCP åè®®æ–‡æ¡£](https://modelcontextprotocol.io/)
